# 10-21

### 1. JavaScript 代码性能优化

* 性能优化的准则

  * 减少不必要的计算

    小图片 合并成 大图片加载，这样可以减少页面的总 HTTP 请求数，就能减少大量的 TCP 连接断连，HTTP 编解包，甚至图片编解码的消耗。

  * 空间换时间

    把一些需要重复进行计算的计算结果缓存起来，在下一次进行计算的时候就可以直接使用这个计算结果，省掉大量的计算量，从而达成计算性能的优化。
    
    * 思考：在用户感知的时间里，这个计算是否必要？
    
      在 HTTP 请求到 HTTP 返回的时间里面，这个计算是不是必要的，能不能把这个计算移到别的地方去做，达到一个空间换时间的效果。

* Node.js HTTP 服务性能优化准则

  * 提前计算

    将服务阶段的移至启动阶段